jobs:
    - job: 'jobrunner'
      pool:
          vmImage: 'Ubuntu-16.04'
      strategy:
          matrix:
              Python27:
                  python.version: '2.7'
  
      steps:
          - task: UsePythonVersion@0
            inputs:
                versionSpec: '$(python.version)'
                architecture: 'x64'
  
          - script:
              - python -m pip install --upgrade pip
              - pip install -r requirements.txt
            displayName: 'Install dependencies'
  
          - script :
              - pylint job setup.py jobrunner
              - autopep8 -j32 -ra job setup.py jobrunner
            displayName: 'Run linters'
  
          - script :
              - pytest
            displayName: 'Run tests'
